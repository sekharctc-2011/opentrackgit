!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("electron")):"function"==typeof define&&define.amd?define(["electron"],t):"object"==typeof exports?exports.screencapture=t(require("electron")):e.screencapture=t(e.electron)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.captureVideo=t.takeScreenshot=void 0;var o=n(7),i=r(o),a=n(8),u=r(a),c=n(2),s=r(c),d=n(6),f=r(d);e.html2canvas=function(e,t){t.onrendered(e)};var l=function(e){return new Promise(function(t,n){a.desktopCapturer.getSources({types:["screen"]},function(r,o){if(r)return void n(r);var i=b(e),a=(0,f["default"])(u["default"].screen.getAllDisplays(),function(t){return t.id===e});navigator.webkitGetUserMedia({audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:o[a].id,maxWidth:i.size.width,maxHeight:i.size.height,minWidth:i.size.width,minHeight:i.size.height}}},t,n)})})},h=function(e){var t=document.createElement("video");return t.autoplay=!0,t.src=URL.createObjectURL(e),new Promise(function(e){t.addEventListener("playing",function(){e(t)})})},p=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},v=function(e){var t=e.ctx,n=e.video,r=e.x,o=e.y,i=e.width,a=e.height,u=e.availTop,c=void 0===u?screen.availTop:u;t.drawImage(n,r,o,i,a,0,-c,i,a)},g=function(e){return e.toDataURL()},b=function(e){return(0,s["default"])(u["default"].screen.getAllDisplays(),function(t){return t.id===e})},m=function(e){var t=void 0,n=function r(){t=requestAnimationFrame(r),e()};return n(),function(){cancelAnimationFrame(t)}},y=function(e){var t=e.canvas,n=e.video,r=e.x,o=e.y,a=e.width,u=e.height,c=e.availTop,s=(0,i["default"])(t,{type:"canvas"}),d=t.getContext("2d"),f=m(function(){return v({ctx:d,video:n,x:r,y:o,width:a,height:u,availTop:c})});return s.startRecording(),{stop:function(){return new Promise(function(e){f(),s.stopRecording(function(){s.getDataURL(function(t){return e({url:t,width:a,height:u})})})})},pause:function(){s.pauseRecording()},resume:function(){s.resumeRecording()}}};t.takeScreenshot=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.sourceId,a=screen.availTop-b(i).bounds.y;return l(i).then(h).then(function(e){var i=p(r,o),u=i.getContext("2d");return v({ctx:u,video:e,x:t,y:n,width:r,height:o,availTop:a}),g(i)})},t.captureVideo=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.sourceId,a=screen.availTop-b(i).bounds.y;return l(i).then(h).then(function(e){var i=p(r,o);return y({canvas:i,video:e,x:t,y:n,width:r,height:o,availTop:a})})}}).call(t,function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e,t,n){if("function"==typeof Array.prototype.find)return e.find(t,n);n=n||this;var r,o=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;o>r;r++)if(t.call(n,e[r],r,e))return e[r]}e.exports=n},function(e,t){function n(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){(function(e,r){function o(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function i(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function u(e,t){return o(t,function(t){return[t,e[t]]})}function c(e){return e&&e.Object===Object?e:null}function s(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function d(e,t){return e="number"==typeof e||dt.test(e)?+e:-1,t=null==t?xe:t,e>-1&&e%1==0&&t>e}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function h(){}function p(e,t){return g(e,t)&&delete e[t]}function v(e,t){if(Ft){var n=e[t];return n===Be?void 0:n}return _t.call(e,t)?e[t]:void 0}function g(e,t){return Ft?void 0!==e[t]:_t.call(e,t)}function b(e,t,n){e[t]=Ft&&void 0===n?Be:n}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.__data__={hash:new h,map:Mt?new Mt:[],string:new h}}function w(e){var t=this.__data__;return oe(e)?p("string"==typeof e?t.string:t.hash,e):Mt?t.map["delete"](e):D(t.map,e)}function R(e){var t=this.__data__;return oe(e)?v("string"==typeof e?t.string:t.hash,e):Mt?t.map.get(e):T(t.map,e)}function j(e){var t=this.__data__;return oe(e)?g("string"==typeof e?t.string:t.hash,e):Mt?t.map.has(e):x(t.map,e)}function _(e,t){var n=this.__data__;return oe(e)?b("string"==typeof e?n.string:n.hash,e,t):Mt?n.map.set(e,t):O(n.map,e,t),this}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(){this.__data__={array:[],map:null}}function S(e){var t=this.__data__,n=t.array;return n?D(n,e):t.map["delete"](e)}function L(e){var t=this.__data__,n=t.array;return n?T(n,e):t.map.get(e)}function U(e){var t=this.__data__,n=t.array;return n?x(n,e):t.map.has(e)}function B(e,t){var n=this.__data__,r=n.array;r&&(r.length<Ue-1?O(r,e,t):(n.array=null,n.map=new m(r)));var o=n.map;return o&&o.set(e,t),this}function D(e,t){var n=M(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():Bt.call(e,n,1),!0}function T(e,t){var n=M(e,t);return 0>n?void 0:e[n][1]}function x(e,t){return M(e,t)>-1}function M(e,t){for(var n=e.length;n--;)if(se(e[n][0],t))return n;return-1}function O(e,t,n){var r=M(e,t);0>r?e.push([t,n]):e[r][1]=n}function C(e){return $t(e)?e:Le(e)}function P(e,t){t=re(t,e)?[t]:C(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:void 0}function F(e,t){return _t.call(e,t)||"object"==typeof e&&t in e&&null===Z(e)}function I(e,t){return t in Object(e)}function E(e,t,n,r,o){return e===t?!0:null==e||null==t||!ve(e)&&!ge(t)?e!==e&&t!==t:z(e,t,E,n,r,o)}function z(e,t,n,r,o,i){var a=$t(e),u=$t(t),c=Oe,d=Oe;a||(c=ee(e),c=c==Me?Ge:c),u||(d=ee(t),d=d==Me?Ge:d);var f=c==Ge&&!s(e),l=d==Ge&&!s(t),h=c==d;if(h&&!f)return i||(i=new k),a||we(e)?J(e,t,n,r,o,i):K(e,t,c,n,r,o,i);if(!(o&Te)){var p=f&&_t.call(e,"__wrapped__"),v=l&&_t.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,b=v?t.value():t;return i||(i=new k),n(g,b,r,o,i)}}return h?(i||(i=new k),Q(e,t,n,r,o,i)):!1}function N(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){u=n[o];var c=u[0],s=e[c],d=u[1];if(a&&u[2]){if(void 0===s&&!(c in e))return!1}else{var f=new k;if(r)var l=r(s,d,c,e,t,f);if(!(void 0===l?E(d,s,r,De|Te,f):l))return!1}}return!0}function G(e){return"function"==typeof e?e:null==e?Ae:"object"==typeof e?$t(e)?q(e[0],e[1]):W(e):Se(e)}function V(e){return Tt(Object(e))}function W(e){var t=Y(e);return 1==t.length&&t[0][2]?ue(t[0][0],t[0][1]):function(n){return n===e||N(n,e,t)}}function q(e,t){return re(e)&&ae(t)?ue(e,t):function(n){var r=Re(n,e);return void 0===r&&r===t?je(n,e):E(t,r,void 0,De|Te)}}function $(e){return function(t){return null==t?void 0:t[e]}}function H(e){return function(t){return P(t,e)}}function J(e,t,n,r,o,a){var u=-1,c=o&Te,s=o&De,d=e.length,f=t.length;if(d!=f&&!(c&&f>d))return!1;var l=a.get(e);if(l)return l==t;var h=!0;for(a.set(e,t);++u<d;){var p=e[u],v=t[u];if(r)var g=c?r(v,p,u,t,e,a):r(p,v,u,e,t,a);if(void 0!==g){if(g)continue;h=!1;break}if(s){if(!i(t,function(e){return p===e||n(p,e,r,o,a)})){h=!1;break}}else if(p!==v&&!n(p,v,r,o,a)){h=!1;break}}return a["delete"](e),h}function K(e,t,n,r,o,i,a){switch(n){case Qe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ke:return!(e.byteLength!=t.byteLength||!r(new Lt(e),new Lt(t)));case Ce:case Pe:return+e==+t;case Fe:return e.name==t.name&&e.message==t.message;case Ne:return e!=+e?t!=+t:e==+t;case We:case $e:return e==t+"";case ze:var u=f;case qe:var c=i&Te;if(u||(u=l),e.size!=t.size&&!c)return!1;var s=a.get(e);return s?s==t:(i|=De,a.set(e,t),J(u(e),u(t),r,o,i,a));case He:if(Wt)return Wt.call(e)==Wt.call(t)}return!1}function Q(e,t,n,r,o,i){var a=o&Te,u=_e(e),c=u.length,s=_e(t),d=s.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var l=u[f];if(!(a?l in t:F(t,l)))return!1}var h=i.get(e);if(h)return h==t;var p=!0;i.set(e,t);for(var v=a;++f<c;){l=u[f];var g=e[l],b=t[l];if(r)var m=a?r(b,g,l,t,e,i):r(g,b,l,e,t,i);if(!(void 0===m?g===b||n(g,b,r,o,i):m)){p=!1;break}v||(v="constructor"==l)}if(p&&!v){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(p=!1)}return i["delete"](e),p}function Y(e){for(var t=ke(e),n=t.length;n--;)t[n][2]=ae(t[n][1]);return t}function X(e,t){var n=e[t];return be(n)?n:void 0}function Z(e){return Dt(Object(e))}function ee(e){return kt.call(e)}function te(e,t,n){t=re(t,e)?[t]:C(t);for(var r,o=-1,i=t.length;++o<i;){var a=t[o];if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var i=e?e.length:0;return!!i&&pe(i)&&d(a,i)&&($t(e)||me(e)||de(e))}function ne(e){var t=e?e.length:void 0;return pe(t)&&($t(e)||me(e)||de(e))?a(t,String):null}function re(e,t){var n=typeof e;return"number"==n||"symbol"==n?!0:!$t(e)&&(ye(e)||ut.test(e)||!at.test(e)||null!=t&&e in Object(t))}function oe(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function ie(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Rt;return e===n}function ae(e){return e===e&&!ve(e)}function ue(e,t){return function(n){return null==n?!1:n[e]===t&&(void 0!==t||e in Object(n))}}function ce(e){if(null!=e){try{return jt.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function se(e,t){return e===t||e!==e&&t!==t}function de(e){return le(e)&&_t.call(e,"callee")&&(!Ut.call(e,"callee")||kt.call(e)==Me)}function fe(e){return null!=e&&pe(qt(e))&&!he(e)}function le(e){return ge(e)&&fe(e)}function he(e){var t=ve(e)?kt.call(e):"";return t==Ie||t==Ee}function pe(e){return"number"==typeof e&&e>-1&&e%1==0&&xe>=e}function ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ge(e){return!!e&&"object"==typeof e}function be(e){if(!ve(e))return!1;var t=he(e)||s(e)?At:st;return t.test(ce(e))}function me(e){return"string"==typeof e||!$t(e)&&ge(e)&&kt.call(e)==$e}function ye(e){return"symbol"==typeof e||ge(e)&&kt.call(e)==He}function we(e){return ge(e)&&pe(e.length)&&!!ft[kt.call(e)]}function Re(e,t,n){var r=null==e?void 0:P(e,t);return void 0===r?n:r}function je(e,t){return null!=e&&te(e,t,I)}function _e(e){var t=ie(e);if(!t&&!fe(e))return V(e);var n=ne(e),r=!!n,o=n||[],i=o.length;for(var a in e)!F(e,a)||r&&("length"==a||d(a,i))||t&&"constructor"==a||o.push(a);return o}function ke(e){return u(e,_e(e))}function Ae(e){return e}function Se(e){return re(e)?$(e):H(e)}var Le=n(5),Ue=200,Be="__lodash_hash_undefined__",De=1,Te=2,xe=9007199254740991,Me="[object Arguments]",Oe="[object Array]",Ce="[object Boolean]",Pe="[object Date]",Fe="[object Error]",Ie="[object Function]",Ee="[object GeneratorFunction]",ze="[object Map]",Ne="[object Number]",Ge="[object Object]",Ve="[object Promise]",We="[object RegExp]",qe="[object Set]",$e="[object String]",He="[object Symbol]",Je="[object WeakMap]",Ke="[object ArrayBuffer]",Qe="[object DataView]",Ye="[object Float32Array]",Xe="[object Float64Array]",Ze="[object Int8Array]",et="[object Int16Array]",tt="[object Int32Array]",nt="[object Uint8Array]",rt="[object Uint8ClampedArray]",ot="[object Uint16Array]",it="[object Uint32Array]",at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/,ct=/[\\^$.*+?()[\]{}|]/g,st=/^\[object .+?Constructor\]$/,dt=/^(?:0|[1-9]\d*)$/,ft={};ft[Ye]=ft[Xe]=ft[Ze]=ft[et]=ft[tt]=ft[nt]=ft[rt]=ft[ot]=ft[it]=!0,ft[Me]=ft[Oe]=ft[Ke]=ft[Ce]=ft[Qe]=ft[Pe]=ft[Fe]=ft[Ie]=ft[ze]=ft[Ne]=ft[Ge]=ft[We]=ft[qe]=ft[$e]=ft[Je]=!1;var lt={"function":!0,object:!0},ht=lt[typeof t]&&t&&!t.nodeType?t:void 0,pt=lt[typeof e]&&e&&!e.nodeType?e:void 0,vt=c(ht&&pt&&"object"==typeof r&&r),gt=c(lt[typeof self]&&self),bt=c(lt[typeof window]&&window),mt=c(lt[typeof this]&&this),yt=vt||bt!==(mt&&mt.window)&&bt||gt||mt||Function("return this")(),wt=Array.prototype,Rt=Object.prototype,jt=Function.prototype.toString,_t=Rt.hasOwnProperty,kt=Rt.toString,At=RegExp("^"+jt.call(_t).replace(ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),St=yt.Symbol,Lt=yt.Uint8Array,Ut=Rt.propertyIsEnumerable,Bt=wt.splice,Dt=Object.getPrototypeOf,Tt=Object.keys,xt=X(yt,"DataView"),Mt=X(yt,"Map"),Ot=X(yt,"Promise"),Ct=X(yt,"Set"),Pt=X(yt,"WeakMap"),Ft=X(Object,"create"),It=ce(xt),Et=ce(Mt),zt=ce(Ot),Nt=ce(Ct),Gt=ce(Pt),Vt=St?St.prototype:void 0,Wt=Vt?Vt.valueOf:void 0;h.prototype=Ft?Ft(null):Rt,m.prototype.clear=y,m.prototype["delete"]=w,m.prototype.get=R,m.prototype.has=j,m.prototype.set=_,k.prototype.clear=A,k.prototype["delete"]=S,k.prototype.get=L,k.prototype.has=U,k.prototype.set=B;var qt=$("length");(xt&&ee(new xt(new ArrayBuffer(1)))!=Qe||Mt&&ee(new Mt)!=ze||Ot&&ee(Ot.resolve())!=Ve||Ct&&ee(new Ct)!=qe||Pt&&ee(new Pt)!=Je)&&(ee=function(e){var t=kt.call(e),n=t==Ge?e.constructor:void 0,r=n?ce(n):void 0;if(r)switch(r){case It:return Qe;case Et:return ze;case zt:return Ve;case Nt:return qe;case Gt:return Je}return t});var $t=Array.isArray;e.exports=G}).call(t,n(1)(e),function(){return this}())},function(e,t,n){(function(e,n){function r(e){return e&&e.Object===Object?e:null}function o(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function i(){}function a(e,t){return c(e,t)&&delete e[t]}function u(e,t){if(ie){var n=e[t];return n===M?void 0:n}return Z.call(e,t)?e[t]:void 0}function c(e,t){return ie?void 0!==e[t]:Z.call(e,t)}function s(e,t,n){e[t]=ie&&void 0===n?M:n}function d(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function f(){this.__data__={hash:new i,map:oe?new oe:[],string:new i}}function l(e){var t=this.__data__;return j(e)?a("string"==typeof e?t.string:t.hash,e):oe?t.map["delete"](e):g(t.map,e)}function h(e){var t=this.__data__;return j(e)?u("string"==typeof e?t.string:t.hash,e):oe?t.map.get(e):b(t.map,e)}function p(e){var t=this.__data__;return j(e)?c("string"==typeof e?t.string:t.hash,e):oe?t.map.has(e):m(t.map,e)}function v(e,t){var n=this.__data__;return j(e)?s("string"==typeof e?n.string:n.hash,e,t):oe?n.map.set(e,t):w(n.map,e,t),this}function g(e,t){var n=y(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():re.call(e,n,1),!0}function b(e,t){var n=y(e,t);return 0>n?void 0:e[n][1]}function m(e,t){return y(e,t)>-1}function y(e,t){for(var n=e.length;n--;)if(A(e[n][0],t))return n;return-1}function w(e,t,n){var r=y(e,t);0>r?e.push([t,n]):e[r][1]=n}function R(e,t){var n=e[t];return B(n)?n:void 0}function j(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function _(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function k(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(x);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(k.Cache||d),n}function A(e,t){return e===t||e!==e&&t!==t}function S(e){var t=L(e)?ee.call(e):"";return t==C||t==P}function L(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return!!e&&"object"==typeof e}function B(e){if(!L(e))return!1;var t=S(e)||o(e)?te:N;return t.test(_(e))}function D(e){return"symbol"==typeof e||U(e)&&ee.call(e)==F}function T(e){if("string"==typeof e)return e;if(null==e)return"";if(D(e))return ue?ue.call(e):"";var t=e+"";return"0"==t&&1/e==-O?"-0":t}var x="Expected a function",M="__lodash_hash_undefined__",O=1/0,C="[object Function]",P="[object GeneratorFunction]",F="[object Symbol]",I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,E=/[\\^$.*+?()[\]{}|]/g,z=/\\(\\)?/g,N=/^\[object .+?Constructor\]$/,G={"function":!0,object:!0},V=G[typeof t]&&t&&!t.nodeType?t:void 0,W=G[typeof e]&&e&&!e.nodeType?e:void 0,q=r(V&&W&&"object"==typeof n&&n),$=r(G[typeof self]&&self),H=r(G[typeof window]&&window),J=r(G[typeof this]&&this),K=q||H!==(J&&J.window)&&H||$||J||Function("return this")(),Q=Array.prototype,Y=Object.prototype,X=Function.prototype.toString,Z=Y.hasOwnProperty,ee=Y.toString,te=RegExp("^"+X.call(Z).replace(E,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=K.Symbol,re=Q.splice,oe=R(K,"Map"),ie=R(Object,"create"),ae=ne?ne.prototype:void 0,ue=ae?ae.toString:void 0;i.prototype=ie?ie(null):Y,d.prototype.clear=f,d.prototype["delete"]=l,d.prototype.get=h,d.prototype.has=p,d.prototype.set=v;var ce=k(function(e){var t=[];return T(e).replace(I,function(e,n,r,o){t.push(r?o.replace(z,"$1"):n||e)}),t});k.Cache=d,e.exports=ce}).call(t,n(1)(e),function(){return this}())},function(e,t,n){function r(e,t){return e&&e.length?o(e,i(t,3)):-1}var o=n(3),i=n(4);e.exports=r},function(e,t,n){"use strict";/**
	 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a JavaScript-based media-recording library for modern web-browsers (supporting WebRTC getUserMedia API). It is optimized for different devices and browsers to bring all client-side (pluginfree) recording solutions in single place.
	 * @summary JavaScript audio/video recording library runs top over WebRTC getUserMedia API.
	 * @license {@link https://www.webrtc-experiment.com/licence/|MIT}
	 * @author {@link https://www.MuazKhan.com|Muaz Khan}
	 * @typedef RecordRTC
	 * @class
	 * @example
	 * var recordRTC = RecordRTC(mediaStream, {
	 *     type: 'video' // audio or video or gif or canvas
	 * });
	 *
	 * // or, you can even use keyword "new"
	 * var recordRTC = new RecordRTC(mediaStream[, config]);
	 * @see For further information:
	 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
	 */
function r(e,t){function n(){t.disableLogs||console.debug("started recording "+t.type+" stream.");var n;if("undefined"!=typeof s&&m&&(n=s),"undefined"==typeof c||m||(n=c),"video"===t.type&&m){if("undefined"==typeof l)throw"WhammyRecorder.js seems NOT linked.";n=l}if("gif"===t.type){if("undefined"==typeof h)throw"GifRecorder.js seems NOT linked.";n=h}if("canvas"===t.type){if("undefined"==typeof f)throw"CanvasRecorder.js seems NOT linked.";n=f}return t.recorderType&&(n=t.recorderType),v=new n(e),v=i(v,t),v.onAudioProcessStarted=function(){t.onAudioProcessStarted&&t.onAudioProcessStarted()},v.onGifPreview=function(e){t.onGifPreview&&t.onGifPreview(e)},v.record(),g}function o(e){function n(){for(var n in v)g&&(g[n]=v[n]),r&&(r[n]=v[n]);var o=v.blob;if(e){var i=b.createObjectURL(o);e(i)}o&&!t.disableLogs&&console.debug(o.type,"->",u(o.size)),t.autoWriteToDisk&&p(function(e){var n={};n[t.type+"Blob"]=e,_.Store(n)})}if(!v)return console.warn(y);var r=this;t.disableLogs||console.warn("Stopped recording "+t.type+" stream."),"gif"!==t.type?v.stop(n):(v.stop(),n())}function a(){return v?void(v.pause?v.pause():t.disableLogs||console.warn('This recording library is having no "pause" method.')):console.warn(y)}function d(){return v?void(v.resume?v.resume():t.disableLogs||console.warn('This recording library is having no "resume" method.')):console.warn(y)}function p(e,n){function r(e){var t=b.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(t);return b.revokeObjectURL(t),n}if(!e)throw"Pass a callback function over getDataURL.";var o=n?n.blob:v.blob;if(!o)return t.disableLogs||console.warn("Blob encoder did not yet finished its job."),void setTimeout(function(){p(e,n)},1e3);if("undefined"!=typeof Worker){var i=r(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});i.onmessage=function(t){e(t.data)},i.postMessage(o)}else{var a=new FileReader;a.readAsDataURL(o),a.onload=function(t){e(t.target.result)}}}if(t=t||{},!e)throw"MediaStream is mandatory.";t.type||(t.type="audio");var v,g=this,y='It seems that "startRecording" is not invoked for '+t.type+" recorder.",w={startRecording:n,stopRecording:o,pauseRecording:a,resumeRecording:d,getBlob:function(){return v?v.blob:console.warn(y)},getDataURL:p,toURL:function(){return v?b.createObjectURL(v.blob):console.warn(y)},save:function(e){if(!v){var t=this;return setTimeout(function(){t.save(e)},2e3),console.warn(y)}var n=document.createElement("a");n.href=b.createObjectURL(v.blob),n.target="_blank",n.download=(e||Math.round(9999999999*Math.random())+888888888)+"."+v.blob.type.split("/")[1];var r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});n.dispatchEvent(r);var o;if("undefined"!=typeof b)o=b;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";o=webkitURL}o.revokeObjectURL(n.href)},getFromDisk:function(e){return v?void r.getFromDisk(t.type,e):console.warn(y)},setAdvertisementArray:function(e){this.advertisement=[];for(var t=e.length,n=0;t>n;n++)this.advertisement.push({duration:n,image:e[n]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,view:null};if(!this)return w;for(var R in w)this[R]=w[R];return w}/**
	 * MRecordRTC runs top over {@link RecordRTC} to bring multiple recordings in single place, by providing simple API.
	 * @summary MRecordRTC stands for "Multiple-RecordRTC".
	 * @license {@link https://www.webrtc-experiment.com/licence/|MIT}
	 * @author {@link https://www.MuazKhan.com|Muaz Khan}
	 * @typedef MRecordRTC
	 * @class
	 * @example
	 * var recorder = new MRecordRTC();
	 * recorder.addStream(MediaStream);
	 * recorder.mediaType = {
	 *     audio: true,
	 *     video: true,
	 *     gif: true
	 * };
	 * recorder.startRecording();
	 * @see For further information:
	 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
	 */
function o(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){!m&&e&&e.getAudioTracks&&e.getAudioTracks().length&&e.getVideoTracks().length&&(this.mediaType.audio=!1),this.mediaType.audio&&(this.audioRecorder=new r(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate}),this.audioRecorder.startRecording()),this.mediaType.video&&(this.videoRecorder=new r(e,{type:"video",video:this.video,canvas:this.canvas}),this.videoRecorder.startRecording()),this.mediaType.gif&&(this.gifRecorder=new r(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(t){e(t,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(t){e(t,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(t){e(t,"gif")})},this.getBlob=function(e){var t={};this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var r=n(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});r.onmessage=function(e){t(e.data)},r.postMessage(e)}else{var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){t(e.target.result)}}}function n(e){var t,n=b.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),r=new Worker(n);if("undefined"!=typeof b)t=b;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}this.getBlob(function(n){t(n.audio,function(r){t(n.video,function(t){e({audio:r,video:t})})})})},this.writeToDisk=function(){r.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){e=e||{audio:!0,video:!0,gif:!0},e.audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}function i(e,t){t=a(t);for(var n in t)"function"!=typeof t[n]&&(e[n]=t[n]);return e}function a(e){var t={};for(var n in e)if(-1!==n.indexOf("-")){var r=n.split("-"),o=r[0]+r[1].split("")[0].toUpperCase()+r[1].substr(1);t[o]=e[n]}else t[n]=e[n];return t}function u(e){var t=1e3,n=["Bytes","KB","MB","GB","TB"];if(0===e)return"0 Bytes";var r=parseInt(Math.floor(Math.log(e)/Math.log(t)),10);return(e/Math.pow(t,r)).toPrecision(3)+" "+n[r]}function c(e){var t=this;if(t.mimeType&&"video/webm"!==t.mimeType&&e.getVideoTracks&&e.getVideoTracks().length){var n=new g,r=n.createMediaStreamSource(e),o=n.createMediaStreamDestination();r.connect(o),e=o.stream}var i=!1;this.record=function(){a=new MediaRecorder(e),a.ondataavailable=function(e){if(!i){if(!e.data.size)return void(t.disableLogs||console.warn("Recording of",e.data.type,"failed."));i=!0,t.blob=new Blob([e.data],{type:e.data.type||t.mimeType||"audio/ogg"}),t.callback&&t.callback()}},a.onerror=function(e){t.disableLogs||console.warn(e),a.stop(),t.record(0)},a.start(0),t.onAudioProcessStarted&&t.onAudioProcessStarted()},this.stop=function(e){a&&(this.callback=e,"recording"===a.state&&a.stop())},this.pause=function(){a&&"recording"===a.state&&(a.pause(),this.disableLogs||console.debug("Paused recording."))},this.resume=function(){a&&"paused"===a.state&&(a.resume(),this.disableLogs||console.debug("Resumed recording."))};var a}function s(e){var t=this;this.record=function(){n=new d(e,this),n.onAudioProcessStarted=function(){t.onAudioProcessStarted&&t.onAudioProcessStarted()},n.record()},this.stop=function(e){n&&n.stop(function(){for(var r in n)t[r]=n[r];e&&e()})},this.pause=function(){n&&n.pause()},this.resume=function(){n&&n.resume()};var n}function d(e,t){function n(e,t){function n(e){function t(e,t){for(var n=new Float64Array(t),r=0,o=e.length,i=0;o>i;i++){var a=e[i];n.set(a,r),r+=a.length}return n}function n(e,t){for(var n=e.length+t.length,r=new Float64Array(n),o=0,i=0;n>i;)r[i++]=e[o],r[i++]=t[o],o++;return r}function r(e,t,n){for(var r=n.length,o=0;r>o;o++)e.setUint8(t+o,n.charCodeAt(o))}var o=e.leftBuffers,i=e.rightBuffers,a=e.sampleRate;o=t(o[0],o[1]),i=t(i[0],i[1]);var u=n(o,i),c=u.length,s=44+2*c,d=new ArrayBuffer(s),f=new DataView(d);r(f,0,"RIFF");var l=4;f.setUint32(l,44+2*c,!0),r(f,8,"WAVE"),r(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,2,!0),f.setUint32(24,a,!0),f.setUint32(28,a*l,!0),f.setUint16(32,l,!0),f.setUint16(34,16,!0),r(f,36,"data"),f.setUint32(40,2*c,!0);for(var h,p=44,v=0;c>v;v++,p+=2){var g=Math.max(-1,Math.min(1,u[v])),b=0>g?32768*g:32767*g;e.leftChannel?(b!==h&&f.setInt16(p,b,!0),h=b):f.setInt16(p,b,!0)}postMessage({buffer:d,view:f})}var o=r(n);o.onmessage=function(e){t(e.data.buffer,e.data.view)},o.postMessage(e)}function r(e){var t=b.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(t);return b.revokeObjectURL(t),n}if(!e.getAudioTracks().length)throw"Your stream has no audio tracks.";var o=this,i=[],a=[],u=!1,c=0;this.record=function(){i.length=a.length=0,c=0,u=!0},this.stop=function(e){u=!1,d.disconnect(),n({sampleRate:h,leftChannel:t.leftChannel,leftBuffers:[i,c],rightBuffers:[a,c]},function(t,n){o.blob=new Blob([n],{type:"audio/wav"}),o.buffer=new ArrayBuffer(n),o.view=n,o.sampleRate=h,o.bufferSize=l,o.length=c,e&&e(),v=!1})},w.AudioContextConstructor||(w.AudioContextConstructor=new w.AudioContext);var s=w.AudioContextConstructor,d=s.createMediaStreamSource(e),f=[0,256,512,1024,2048,4096,8192,16384],l="undefined"==typeof t.bufferSize?4096:t.bufferSize;-1===f.indexOf(l)&&(t.disableLogs||console.warn("Legal values for buffer-size are "+JSON.stringify(f,null,"	")));var h="undefined"!=typeof t.sampleRate?t.sampleRate:s.sampleRate||44100;if((22050>h||h>96e3)&&(t.disableLogs||console.warn("sample-rate must be under range 22050 and 96000.")),s.createJavaScriptNode)R=s.createJavaScriptNode(l,2,2);else{if(!s.createScriptProcessor)throw"WebAudio API has no support on this browser.";R=s.createScriptProcessor(l,2,2)}d.connect(R),l=R.bufferSize,t.disableLogs||(console.log("sample-rate",h),console.log("buffer-size",l));var p=!1;this.pause=function(){p=!0,t.disableLogs||console.debug("Paused recording.")},this.resume=function(){p=!1,t.disableLogs||console.debug("Resumed recording.")};var v=!1;R.onaudioprocess=function(t){if(!p){if(e.ended)return void(R.onaudioprocess=function(){});if(!u)return void d.disconnect();v||(v=!0,o.onAudioProcessStarted&&o.onAudioProcessStarted());var n=t.inputBuffer.getChannelData(0),r=t.inputBuffer.getChannelData(1);i.push(new Float32Array(n)),a.push(new Float32Array(r)),c+=l}},R.connect(s.destination)}function f(e){function t(){return r?(o=(new Date).getTime(),setTimeout(t,100)):void html2canvas(e,{onrendered:function(e){var r=(new Date).getTime()-o;return r?(o=(new Date).getTime(),i.frames.push({duration:r,image:e.toDataURL("image/webp")}),void(n&&p(t))):t()}})}if("undefined"==typeof html2canvas)throw"Please link: //cdn.webrtc-experiment.com/screenshot.js";var n;this.record=function(){n=!0,i.frames=[],t()},this.stop=function(e){n=!1;var t=this;i.compile(function(n){t.blob=n,t.blob.forEach&&(t.blob=new Blob([],{type:"video/webm"})),e&&e(t.blob)})};var r=!1;this.pause=function(){r=!0,this.disableLogs||console.debug("Paused recording.")},this.resume=function(){r=!1,this.disableLogs||console.debug("Resumed recording.")};var o=(new Date).getTime(),i=new j.Video(100)}function l(e){function t(){var e=(new Date).getTime()-a;return e?o?(a=(new Date).getTime(),setTimeout(t,100)):(a=(new Date).getTime(),i.paused&&i.play(),s.drawImage(i,0,0,c.width,c.height),u.frames.push({duration:e,image:c.toDataURL("image/webp")}),void(r||setTimeout(t,10))):setTimeout(t,10)}function n(e,t,n,r){var o=document.createElement("canvas");o.width=c.width,o.height=c.height;for(var i=o.getContext("2d"),a=[],u=-1===t,s=t&&t>0&&t<=e.length?t:e.length,d={r:0,g:0,b:0},f=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),l=n&&n>=0&&1>=n?n:0,h=r&&r>=0&&1>=r?r:0,p=!1,v=0;s>v;v++){var g,b,m;if(!p){var y=new Image;y.src=e[v].image,i.drawImage(y,0,0,c.width,c.height);var w=i.getImageData(0,0,c.width,c.height);g=0,b=w.data.length,m=w.data.length/4;for(var R=0;b>R;R+=4){var j={r:w.data[R],g:w.data[R+1],b:w.data[R+2]},_=Math.sqrt(Math.pow(j.r-d.r,2)+Math.pow(j.g-d.g,2)+Math.pow(j.b-d.b,2));f*l>=_&&g++}}!p&&m*h>=m-g||(u&&(p=!0),a.push(e[v]))}return a=a.concat(e.slice(s)),a.length<=0&&a.push(e[e.length-1]),a}this.record=function(){this.width||(this.width=320),this.height||(this.height=240),this.video||(this.video={width:this.width,height:this.height}),this.canvas||(this.canvas={width:this.width,height:this.height}),c.width=this.canvas.width,c.height=this.canvas.height,s=c.getContext("2d"),this.video&&this.video instanceof HTMLVideoElement?i=this.video.cloneNode():(i=document.createElement("video"),i.src=b.createObjectURL(e),i.width=this.video.width,i.height=this.video.height),i.muted=!0,i.play(),a=(new Date).getTime(),u=new j.Video,this.disableLogs||(console.log("canvas resolutions",c.width,"*",c.height),console.log("video width/height",i.width||c.width,"*",i.height||c.height)),t()};var r=!1;this.stop=function(e){r=!0;var t=this;setTimeout(function(){u.frames=n(u.frames,-1),this.advertisement&&this.advertisement.length&&(u.frames=this.advertisement.concat(u.frames)),u.compile(function(n){t.blob=n,t.blob.forEach&&(t.blob=new Blob([],{type:"video/webm"})),e&&e(t.blob)})},10)};var o=!1;this.pause=function(){o=!0,this.disableLogs||console.debug("Paused recording.")},this.resume=function(){o=!1,this.disableLogs||console.debug("Resumed recording.")};var i,a,u,c=document.createElement("canvas"),s=c.getContext("2d")}function h(e){if("undefined"==typeof GIFEncoder)throw"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";this.record=function(){function e(i){return t?setTimeout(function(){e(i)},100):(s=p(e),void 0===typeof u&&(u=i),void(90>i-u||(o.paused&&o.play(),r.drawImage(o,0,0,n.width,n.height),a.onGifPreview&&a.onGifPreview(n.toDataURL("image/png")),c.addFrame(r),u=i)))}this.width||(this.width=o.offsetWidth||320),this.height||(this.height=o.offsetHeight||240),this.video||(this.video={width:this.width,height:this.height}),this.canvas||(this.canvas={width:this.width,height:this.height}),n.width=this.canvas.width,n.height=this.canvas.height,o.width=this.video.width,o.height=this.video.height,c=new GIFEncoder,c.setRepeat(0),c.setDelay(this.frameRate||200),c.setQuality(this.quality||10),c.start(),i=Date.now();var a=this;s=p(e)},this.stop=function(){s&&v(s),a=Date.now(),this.blob=new Blob([new Uint8Array(c.stream().bin)],{type:"image/gif"}),c.stream().bin=[]};var t=!1;this.pause=function(){t=!0,this.disableLogs||console.debug("Paused recording.")},this.resume=function(){t=!1,this.disableLogs||console.debug("Resumed recording.")};var n=document.createElement("canvas"),r=n.getContext("2d"),o=document.createElement("video");o.muted=!0,o.autoplay=!0,o.src=b.createObjectURL(e),o.play();var i,a,u,c,s=null}if(r.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),_.Fetch(function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))})},r.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),e=e||{},e.audio&&e.video&&e.gif?e.audio.getDataURL(function(t){e.video.getDataURL(function(n){e.gif.getDataURL(function(e){_.Store({audioBlob:t,videoBlob:n,gifBlob:e})})})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){_.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){_.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getDataURL(function(t){e.gif.getDataURL(function(e){_.Store({videoBlob:t,gifBlob:e})})}):e.audio?e.audio.getDataURL(function(e){_.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){_.Store({videoBlob:e})}):e.gif&&e.gif.getDataURL(function(e){_.Store({gifBlob:e})})},e.exports=r,o.getFromDisk=r.getFromDisk,o.writeToDisk=r.writeToDisk,"undefined"==typeof p){if("undefined"!=typeof webkitRequestAnimationFrame)var p=webkitRequestAnimationFrame;if("undefined"!=typeof mozRequestAnimationFrame)var p=mozRequestAnimationFrame}if("undefined"==typeof v){if("undefined"!=typeof webkitCancelAnimationFrame)var v=webkitCancelAnimationFrame;if("undefined"!=typeof mozCancelAnimationFrame)var v=mozCancelAnimationFrame}if("undefined"==typeof g){if("undefined"!=typeof webkitAudioContext)var g=webkitAudioContext;if("undefined"!=typeof mozAudioContext)var g=mozAudioContext}if("undefined"==typeof b&&"undefined"!=typeof webkitURL)var b=webkitURL;var m=!0;if("undefined"!=typeof y)"undefined"!=typeof y.webkitGetUserMedia&&(y.getUserMedia=y.webkitGetUserMedia),"undefined"!=typeof y.mozGetUserMedia&&(y.getUserMedia=y.mozGetUserMedia),m="undefined"!=typeof y.webkitGetUserMedia;else var y={getUserMedia:{}};if("undefined"!=typeof webkitMediaStream){webkitMediaStream}"undefined"!=typeof location&&0===location.href.indexOf("file:")&&console.error("Please load this HTML file on HTTP or HTTPS.");var w={};"undefined"!=typeof g?w.AudioContext=g:"undefined"!=typeof webkitAudioContext&&(w.AudioContext=webkitAudioContext);var R,j=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=100}function t(e){var t=b.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (e) {"+e.name+"(e.data);}"],{type:"application/javascript"})),n=new Worker(t);return b.revokeObjectURL(t),n}function n(e){function t(e){var t=r(e);if(!t)return[];for(var o=3e4,i=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:l(t.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:t.width,id:176},{data:t.height,id:186}]}]}]}]}],a=0,c=0;a<e.length;){var s=[],d=0;do s.push(e[a]),d+=e[a].duration,a++;while(a<e.length&&o>d);var f=0,h={id:524531317,data:n(c,f,s)};i[1].data.push(h),c+=d}return u(i)}function n(e,t,n){return[{data:e,id:231}].concat(n.map(function(e){var n=c({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}}))}function r(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,r=e[0].duration,o=1;o<e.length;o++)r+=e[o].duration;return{duration:r,width:t,height:n}}function o(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function i(e){return new Uint8Array(e.split("").map(function(e){return e.charCodeAt(0)}))}function a(e){var t=[],n=e.length%8?new Array(9-e.length%8).join("0"):"";e=n+e;for(var r=0;r<e.length;r+=8)t.push(parseInt(e.substr(r,8),2));return new Uint8Array(t)}function u(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].data;"object"==typeof r&&(r=u(r)),"number"==typeof r&&(r=a(r.toString(2))),"string"==typeof r&&(r=i(r));var c=r.size||r.byteLength||r.length,s=Math.ceil(Math.ceil(Math.log(c)/Math.log(2))/8),d=c.toString(2),f=new Array(7*s+7+1-d.length).join("0")+d,l=new Array(s).join("0")+"1"+f;t.push(o(e[n].id)),t.push(a(l)),t.push(r)}return new Blob(t,{type:"video/webm"})}function c(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";var n=[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame;return n}function s(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),r=0,o=[];4>r;r++)o[r]=t.charCodeAt(n+3+r);var i,a,u;return u=o[1]<<8|o[0],i=16383&u,u=o[3]<<8|o[2],a=16383&u,{width:i,height:a,data:t,riff:e}}function d(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}function f(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),o=d(e,t),i=e.substr(t+4+4,o);t+=8+o,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(f(i)):n[r].push(i)}return n}function l(e){return[].slice.call(new Uint8Array(new Float64Array([e]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")}var h=new t(e.map(function(e){var t=s(f(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(h)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var r=t(n);r.onmessage=function(t){return t.data.error?void console.error(t.data.error):void e(t.data)},r.postMessage(this.frames)},{Video:e}}(),_={init:function(){function e(e){e.createObjectStore(r.dataStoreName)}function t(){function e(e){t.objectStore(r.dataStoreName).get(e).onsuccess=function(t){r.callback&&r.callback(t.target.result,e)}}var t=o.transaction([r.dataStoreName],"readwrite");r.videoBlob&&t.objectStore(r.dataStoreName).put(r.videoBlob,"videoBlob"),r.gifBlob&&t.objectStore(r.dataStoreName).put(r.gifBlob,"gifBlob"),r.audioBlob&&t.objectStore(r.dataStoreName).put(r.audioBlob,"audioBlob"),e("audioBlob"),e("videoBlob"),e("gifBlob")}var n,r=this;"undefined"!=typeof webkitIndexedDB&&(n=webkitIndexedDB),"undefined"!=typeof mozIndexedDB&&(n=mozIndexedDB),"undefined"!=typeof OIndexedDB&&(n=OIndexedDB),"undefined"!=typeof msIndexedDB&&(n=msIndexedDB);var o,i=1,a=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),u=n.open(a,i);u.onerror=r.onError,u.onsuccess=function(){if(o=u.result,o.onerror=r.onError,o.setVersion)if(o.version!==i){var n=o.setVersion(i);n.onsuccess=function(){e(o),t()}}else t();else t()},u.onupgradeneeded=function(t){e(t.target.result)}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"	"))},dataStoreName:"recordRTC",dbName:null}},function(e,t){e.exports=require("electron")}])});